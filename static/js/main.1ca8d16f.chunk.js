(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{203:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(19),o=a.n(i),l=(a(89),a(80)),c=a(82),s=a(72),d=a(73),u=a(81),m=a(74),g=a(83),p=a(79),v=a(2),f=a(49),b=a.n(f),E=a(50),h=function(e){var t=e.type,a=e.key;return{onKeyDown:function(e,n,r){if(!e.ctrlKey||e.key!==a)return r();e.preventDefault(),n.toggleMark(t)}}},y=function(e){var t=e.children;return r.a.createElement("code",null,t)},k=function(e){var t=e.children;return r.a.createElement("strong",null,t)},D=function(e){var t=e.children;return r.a.createElement("em",null,t)},N=function(e){var t=e.children;return r.a.createElement("u",null,t)},w=function(e){var t=e.children;return r.a.createElement("del",null,t)},j=a(78),C=[h({type:"bold",key:"b"}),h({type:"italic",key:"i"}),h({type:"underline",key:"u"}),h({type:"strikethrough",key:"s"}),h({type:"code",key:"`"})],O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={isDebugging:!1,editors:[{id:b.a.generate(),value:v.m.fromJSON(E)}]},a.handleChange=function(e,t){var n=a.state.editors.map(function(a){return a.id===t&&(a=Object(c.a)({},a,{value:e.value})),a});a.setState({editors:n})},a.handleKeyDown=function(e,t,a){if(!e.ctrlKey)return a();switch(e.key){case"b":e.preventDefault(),t.toggleMark("bold");break;case"i":e.preventDefault(),t.toggleMark("italic");break;case"`":var n=t.value.blocks.some(function(e){return"code"===e.type});e.preventDefault(),t.setBlocks(n?"paragraph":"code");break;default:return a()}},a.handleAddingEditor=function(e){e.preventDefault(),a.setState(function(e){return{editors:[].concat(Object(l.a)(e.editors),[{id:b.a.generate(),value:v.m.fromJSON(E)}])}})},a.handleRemovingEditor=function(e){e.preventDefault();var t=a.state.editors,n=e.target.value;alert("Are you sure you want to remove editor ".concat(n,"?")),a.setState({editors:t.filter(function(e){return e.id!==n})})},a.onDragStart=function(e,t){a.draggedItem=a.state.editors[t],e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.target.parentNode),e.dataTransfer.setDragImage(e.target.parentNode,20,20)},a.onDragOver=function(e){var t=a.state.editors[e];if(a.draggedItem!==t){var n=a.state.editors.filter(function(e){return e!==a.draggedItem});n.splice(e,0,a.draggedItem),a.setState({editors:n})}},a.isDebugging=function(){a.setState({isDebugging:!a.state.isDebugging})},a.renderMark=function(e,t,a){switch(e.mark.type){case"code":return r.a.createElement(y,e);case"bold":return r.a.createElement(k,e);case"italic":return r.a.createElement(D,e);case"underline":return r.a.createElement(N,e);case"strikethrough":return r.a.createElement(w,e);default:return a()}},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"header"},r.a.createElement("button",{onClick:this.handleAddingEditor,className:"btn addEditorBtn"},"Add unit")),r.a.createElement("div",{className:"editorsContainer"},this.state.editors.map(function(t,a){return r.a.createElement("div",{key:t.id,className:"editorContainer",onDragOver:function(){return e.onDragOver(a)}},r.a.createElement("div",{className:"editorDragHandle",draggable:!0,onDragStart:function(t){return e.onDragStart(t,a)},onDragEnd:e.onDragEnd}),r.a.createElement("div",{className:"editorInternal"},r.a.createElement(p.a,{value:t.value,plugins:C,placeholder:"Type something...",onChange:function(a,n){return e.handleChange(a,t.id)},renderMark:e.renderMark}),r.a.createElement("div",{className:"editorContainerMeta flex"},r.a.createElement("div",null,r.a.createElement("code",null,"editor id: ",t.id)),r.a.createElement("div",{className:"editorContainerMetaActions"},r.a.createElement("button",{className:"btn addEditorBtn metaEditorBtn",disabled:!0,onClick:function(){return alert("Nested editors will be wired up soon!")}},"Add unit"),r.a.createElement("button",{onClick:e.handleRemovingEditor,className:"btn removeEditorBtn metaEditorBtn",value:t.id},"Remove unit")))))})),this.state.isDebugging&&r.a.createElement("div",{className:"detailsComponent"},r.a.createElement("details",null,r.a.createElement("summary",null,r.a.createElement("code",null,"application state")),r.a.createElement("pre",null,r.a.createElement("code",null,JSON.stringify(this.state,null,2)))))),r.a.createElement("div",{className:"topBar"},r.a.createElement("code",null,r.a.createElement("strong",null,"Prototype:")," Testing unit creation"),r.a.createElement("div",null,r.a.createElement("code",{className:"versionNumber"},r.a.createElement("strong",null,"Version:")," ",j.version),r.a.createElement("button",{className:"btn debugBtn",onClick:this.isDebugging},"Debug"))))}}]),t}(r.a.Component);o.a.render(r.a.createElement(O,null),document.getElementById("root"))},50:function(e){e.exports={object:"value",document:{object:"document",data:{},nodes:[{object:"block",type:"paragraph",data:{},nodes:[{object:"text",leaves:[{object:"leaf",text:"",marks:[]}]}]}]}}},78:function(e){e.exports={name:"prototype-editor",homepage:"https://chic-geek.github.io/prototype-editor/",version:"0.1.2",private:!0,dependencies:{immutable:"^4.0.0-rc.12",react:"^16.8.6","react-beautiful-dnd":"^11.0.1","react-dom":"^16.8.6","react-scripts":"3.0.0",shortid:"^2.2.14",slate:"^0.45.1","slate-react":"^0.21.21"},scripts:{start:"react-scripts start",build:"react-scripts build",test:"react-scripts test",eject:"react-scripts eject",predeploy:"npm run build",deploy:"gh-pages -d build"},eslintConfig:{extends:"react-app"},browserslist:{production:[">0.2%","not dead","not op_mini all"],development:["last 1 chrome version","last 1 firefox version","last 1 safari version"]},devDependencies:{"gh-pages":"^2.0.1"}}},84:function(e,t,a){e.exports=a(203)},89:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.1ca8d16f.chunk.js.map