(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(19),o=a.n(l),i=(a(88),a(79)),c=a(81),d=a(70),u=a(71),s=a(80),m=a(72),f=a(82),g=a(78),v=a(2),p=a(76),E=a.n(p),h=a(77),b=function(e){var t=e.type,a=e.key;return{onKeyDown:function(e,n,r){if(!e.ctrlKey||e.key!==a)return r();e.preventDefault(),n.toggleMark(t)}}},k=function(e){var t=e.children;return r.a.createElement("code",null,t)},y=function(e){var t=e.children;return r.a.createElement("strong",null,t)},D=function(e){var t=e.children;return r.a.createElement("em",null,t)},N=function(e){var t=e.children;return r.a.createElement("u",null,t)},w=function(e){var t=e.children;return r.a.createElement("del",null,t)},j=[b({type:"bold",key:"b"}),b({type:"italic",key:"i"}),b({type:"underline",key:"u"}),b({type:"strikethrough",key:"s"}),b({type:"code",key:"`"})],C=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={editors:[]},a.handleChange=function(e,t){var n=a.state.editors.map(function(a){return a.id===t&&(a=Object(c.a)({},a,{value:e.value})),a});a.setState({editors:n})},a.handleKeyDown=function(e,t,a){if(!e.ctrlKey)return a();switch(e.key){case"b":e.preventDefault(),t.toggleMark("bold");break;case"i":e.preventDefault(),t.toggleMark("italic");break;case"`":var n=t.value.blocks.some(function(e){return"code"===e.type});e.preventDefault(),t.setBlocks(n?"paragraph":"code");break;default:return a()}},a.handleAddingEditor=function(e){e.preventDefault(),a.setState(function(e){return{editors:[].concat(Object(i.a)(e.editors),[{id:E.a.generate(),value:v.m.fromJSON(h)}])}})},a.handleRemovingEditor=function(e){e.preventDefault();var t=a.state.editors,n=e.target.value;alert("Are you sure you want to remove editor ".concat(n,"?")),a.setState({editors:t.filter(function(e){return e.id!==n})})},a.onDragStart=function(e,t){a.draggedItem=a.state.editors[t],e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",e.target.parentNode),e.dataTransfer.setDragImage(e.target.parentNode,20,20)},a.onDragOver=function(e){var t=a.state.editors[e];if(a.draggedItem!==t){var n=a.state.editors.filter(function(e){return e!==a.draggedItem});n.splice(e,0,a.draggedItem),a.setState({editors:n})}},a.renderMark=function(e,t,a){switch(e.mark.type){case"code":return r.a.createElement(k,e);case"bold":return r.a.createElement(y,e);case"italic":return r.a.createElement(D,e);case"underline":return r.a.createElement(N,e);case"strikethrough":return r.a.createElement(w,e);default:return a()}},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app"},r.a.createElement("h1",null,"Testing: multiple editors"),r.a.createElement("header",{className:"header"},r.a.createElement("button",{onClick:this.handleAddingEditor,className:"btn addEditorBtn"},"Add unit")),r.a.createElement("div",{className:"editorsContainer"},this.state.editors.map(function(t,a){return r.a.createElement("div",{key:t.id,className:"editorContainer",onDragOver:function(){return e.onDragOver(a)}},r.a.createElement("div",{className:"editorDragHandle",draggable:!0,onDragStart:function(t){return e.onDragStart(t,a)},onDragEnd:e.onDragEnd}),r.a.createElement("div",{className:"editorInternal"},r.a.createElement(g.a,{value:t.value,plugins:j,placeholder:"Get writing...",onChange:function(a,n){return e.handleChange(a,t.id)},renderMark:e.renderMark}),r.a.createElement("div",{className:"editorContainerMeta flex"},r.a.createElement("div",null,r.a.createElement("code",null,"editor id: ",t.id)),r.a.createElement("div",{className:"editorContainerMetaActions"},r.a.createElement("button",{className:"btn addEditorBtn metaEditorBtn",disabled:!0,onClick:function(){return alert("Nested editors will be wired up soon!")}},"Add unit"),r.a.createElement("button",{onClick:e.handleRemovingEditor,className:"btn removeEditorBtn metaEditorBtn",value:t.id},"Remove unit")))))})),r.a.createElement("details",{className:"detailsComponent"},r.a.createElement("summary",null,r.a.createElement("code",null,"application state")),r.a.createElement("pre",null,r.a.createElement("code",null,JSON.stringify(this.state,null,2)))))}}]),t}(r.a.Component);o.a.render(r.a.createElement(C,null),document.getElementById("root"))},77:function(e){e.exports={object:"value",document:{object:"document",data:{},nodes:[{object:"block",type:"paragraph",data:{},nodes:[{object:"text",leaves:[{object:"leaf",text:"",marks:[]}]}]}]}}},83:function(e,t,a){e.exports=a(202)},88:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.dcdf3d9f.chunk.js.map